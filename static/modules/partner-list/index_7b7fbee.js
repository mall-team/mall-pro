define("partner-list/index",function(require,exports,module){function init(){addEvent(),rendTj(),rendList()}function addEvent(){$(".tab-nav").on("click","li",pageSwitch),$(".partner-nav").on("click","li",daySwitch),$("#J-rule").on("click",showRule)}function showRule(){var html="";html=1==pageTy?function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="partner-rule">\r\n	<section>\r\n		<p>从2015年11月1日起，启动社群管理办法。针对社群管理，现对社群招商和销售订单做如下激励政策。</p>\r\n		<p>引荐冠军奖励，社群中的会员引荐其他人注册到自己所在社群店主名下，成为会员，并引荐到所在群中，注册并引荐人数是所在群最多的会员将获得淘金子总部颁发的<b>666元现金</b>奖励。</p>\r\n	</section>\r\n	<section>\r\n		<p>获取奖金条件：</p>\r\n		<ul>\r\n			<li>1.引荐的小伙伴必须成为所在淘金子社群店主的会员；</li>\r\n			<li>2.引荐的小伙伴必须进入社群；</li>\r\n			<li>3.在所在群中引荐人数最多的会员获得此奖。</li>\r\n		</ul>\r\n	</section>\r\n	<section>\r\n		<p>发奖时间：每晚21点30分</p>\r\n		<p>发奖形式：发放到获奖者淘金子账户中</p>\r\n		<p>活动时间：2015年11月1日至2015年11月4日</p>\r\n	</section>\r\n</div>';return __p}():function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="partner-rule">\r\n	<section>\r\n		<p>销售冠军奖励，社群会员引荐进来的小伙伴产生购买订单（包括自己购买的订单），订单数是所在群中最多的会员奖获得淘金子总部颁发的<b>666元现金</b>奖励。</p>\r\n	</section>\r\n	<section>\r\n		<p>获取奖金条件：</p>\r\n		<ul>\r\n			<li>1.必须是自己和自己引荐的小伙伴产生的订单才视为有效订单；</li>\r\n			<li>2.在所在群中订单数最多的会员获得此奖</li>\r\n		</ul>\r\n	</section>\r\n	<section>\r\n		<p>发奖时间：每晚21点30分</p>\r\n		<p>发奖形式：发放到获奖者淘金子账户中</p>\r\n		<p>活动时间：2015年11月1日至2015年11月4日</p>\r\n	</section>\r\n</div>';return __p}(),Alert.show(html)}function pageSwitch(){var n=$(this),r=+n.attr("type");return pageTy==r?!1:(pageTy=r,dayTy=1,n.siblings(".active").removeClass("active"),n.addClass("active"),void rendTj(function(){rendList(function(){$(".partner-nav li").removeClass("active"),$(".partner-nav li").eq(0).addClass("active")})}))}function daySwitch(){var n=$(this),r=+n.attr("type");return dayTy==r?!1:(dayTy=r,void rendList(function(){n.siblings(".active").removeClass("active"),n.addClass("active")}))}function rendTj(n){(new Ajax).send({url:"/User/Center/myRecommendTotalInfo",data:{pageType:pageTy}},function(r){$("#J-t-num").text(r.data.todayNum),$("#J-y-num").text(r.data.yestNum),$("#J-t-key").text("今日"+(1==pageTy?"引荐人数":"订单数")),$("#J-y-key").text("昨日"+(1==pageTy?"引荐人数":"订单数")),n&&n()})}function rendList(n){(new Ajax).send({url:"/User/Center/myRecommendInfo",data:{pageType:pageTy,dayType:dayTy}},function(r){var t=r.data||[];$("#J-container-list").html(_tmplList["tmpl"+pageTy]({list:t})),n&&n()})}var $=require("zepto"),Ajax=require("common/ajax/index"),Alert=require("common/alert/alert"),_tmplList={tmpl1:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",list.length>0&&(__p+='\r\n<ul class="partner-list">\r\n',$.each(list,function(n,r){__p+='\r\n	<li class="middle">\r\n		<div class="img-wrap" \r\n		',r.head_sculpture&&(__p+='\r\n		style="background-image: url('+(null==(__t=r.head_sculpture)?"":__t)+')"\r\n		'),__p+='\r\n		></div>\r\n		<div class="info">\r\n			<p class="name">'+(null==(__t=r.nickname)?"":__t)+'</p>\r\n		</div>\r\n		<p class="date">'+(null==(__t=r.create_time)?"":__t)+"</p>\r\n	</li>\r\n"}),__p+="\r\n</ul>\r\n"),__p+="";return __p},tmpl2:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",list.length>0&&(__p+='\r\n<ul class="partner-list">\r\n',$.each(list,function(n,r){__p+='\r\n	<li>\r\n		<div class="img-wrap" \r\n		',r.head_sculpture&&(__p+='\r\n		style="background-image: url('+(null==(__t=r.head_sculpture)?"":__t)+')"\r\n		'),__p+='\r\n		></div>\r\n		<div class="info">\r\n			<p class="name">'+(null==(__t=r.nickname)?"":__t)+'</p>\r\n			<p class="des">贡献了<b>'+(null==(__t=r.orderCount)?"":__t)+'</b>单</p>\r\n		</div>\r\n		<p class="date">'+(null==(__t=r.create_time)?"":__t)+"</p>\r\n	</li>\r\n"}),__p+="\r\n</ul>\r\n"),__p+="";return __p}},pageTy=1,dayTy=1;init()});
define("wallet/index",function(require,exports,module){{var $=require("zepto"),Tabs=require("common/tabs/index"),Ajax=require("common/ajax/index"),PageLoader=require("common/page-loader/index"),FixTop=require("common/fix-top/index"),Bubble=require("common/bubble/bubble"),Copyright=require("common/copyright/index"),Pop=require("common/pop/index");require("common/wxpay/index")}new FixTop({el:".wallet-detail .nav"}),new Tabs({nav:".nav li",content:".detail-list"}),Copyright.reset(),new PageLoader({container:"#J-bill-all",pageBegin:2,getHtml:function(pageNum,back){(new Ajax).send({url:$("#J-ajax-url").val()||"/User/Center/walletList",data:{page:pageNum}},function(result){back&&back(function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",$.each(list,function(t,n){__p+='\r\n<li>\r\n	<span class="title">'+(null==(__t=n.desc)?"":__t)+'</span>\r\n	<span class="price ',1==n.bill_type&&(__p+="income"),__p+='">'+(null==(__t=n.amount)?"":__t)+'</span>\r\n	<span class="date">'+(null==(__t=n.ctime)?"":__t)+"</span>\r\n</li>\r\n"}),__p+="";return __p}({list:result.data})),Copyright.reset()})}}).loadEnd(function(){Bubble.show("亲，没有更多数据了~")}),new PageLoader({container:"#J-bill-out",pageBegin:2,getHtml:function(pageNum,back){(new Ajax).send({url:$("#J-ajax-url").val()||"/User/Center/walletList",data:{page:pageNum,type:2}},function(result){back&&back(function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",$.each(list,function(t,n){__p+='\r\n<li>\r\n	<span class="title">'+(null==(__t=n.desc)?"":__t)+'</span>\r\n	<span class="price ',1==n.bill_type&&(__p+="income"),__p+='">'+(null==(__t=n.amount)?"":__t)+'</span>\r\n	<span class="date">'+(null==(__t=n.ctime)?"":__t)+"</span>\r\n</li>\r\n"}),__p+="";return __p}({list:result.data})),Copyright.reset()})}}).loadEnd(function(){Bubble.show("亲，没有更多数据了~")}),new PageLoader({container:"#J-bill-in",pageBegin:2,getHtml:function(pageNum,back){(new Ajax).send({url:$("#J-ajax-url").val()||"/User/Center/walletList",data:{page:pageNum,type:1}},function(result){back&&back(function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",$.each(list,function(t,n){__p+='\r\n<li>\r\n	<span class="title">'+(null==(__t=n.desc)?"":__t)+'</span>\r\n	<span class="price ',1==n.bill_type&&(__p+="income"),__p+='">'+(null==(__t=n.amount)?"":__t)+'</span>\r\n	<span class="date">'+(null==(__t=n.ctime)?"":__t)+"</span>\r\n</li>\r\n"}),__p+="";return __p}({list:result.data})),Copyright.reset()})}}).loadEnd(function(){Bubble.show("亲，没有更多数据了~")}),function(){function t(){Pop.show({title:"提现账户",content:r}),l=$("#J-next-btn"),l.on("click",n)}function n(){var t=$("#J-next-form"),n=t.attr("action"),a=t.attr("method"),l=t.serialize(),o=$("#J-account-input").val();return o?o.length>50?(Bubble.show("支付宝帐号长度过长"),!1):void(new Ajax).send({url:n,data:l,type:a},function(){c=!0,i=o,Pop.hide(function(){e()})}):(Bubble.show("请输入你的支付宝帐号"),!1)}function e(){Pop.show({title:"提现",content:p});var t=$("#J-account-yes"),n=t.text();!n&&i&&t.text(i),o=$("#J-tx-sumit"),o.on("click",a)}function a(){var t=$("#J-tx-form"),n=t.attr("action"),e=t.attr("method"),a=t.serialize();(new Ajax).send({url:n,data:a,type:e},function(){Pop.hide(function(){})})}var i,l,o,r=$("#J-tx-tmpl").html(),p=$("#J-tx-yes-tmpl").html(),c=1==$("#J-has-pay-account").val(),s=$("#J-tixian");s.on("click",function(){s.hasClass("disabled")||(c?e():t())})}()});
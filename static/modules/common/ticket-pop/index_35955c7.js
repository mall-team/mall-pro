define("common/ticket-pop/index",function(require,exports,module){function show(options){curOptions=options||{},(new Ajax).send({url:curOptions.ajaxUrl,data:curOptions.ajaxParams||{}},function(result){var list=result.list;Pop.show({title:"选择优惠券",content:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="ticket-container">\r\n	<ul>\r\n		',$.each(list,function(t,i){__p+='\r\n		<li>\r\n			<div class="money"><i>&yen;</i><b>'+(null==(__t=i.coupon_amount)?"":__t)+'</b></div>\r\n			<div class="ticket-info">\r\n				<p class="ticket-title">'+(null==(__t=i.name)?"":__t)+"</p>\r\n				",__p+=0==i.order_amount?'\r\n				<!-- <p class="des">全场通用</p> -->\r\n				':'\r\n				<p class="des">满'+(null==(__t=i.order_amount)?"":__t)+"可用</p>\r\n				",__p+='\r\n			</div>\r\n			<a class="radio '+(null==(__t=curId==i.id?"selected":"")?"":__t)+" dib\" ticket-item='"+(null==(__t=JSON.stringify(i))?"":__t)+'\'><i class="icon-radio"></i></a>\r\n		</li>\r\n		'}),__p+='\r\n		<li>\r\n			<div class="ticket-info">不使用优惠券</div>\r\n			<a class="radio dib" ticket-item="-1"><i class="icon-radio"></i></a>\r\n		</li>\r\n	</ul>\r\n</div>';return __p}({list:ticketList=list,curId:curOptions.curId||0})}),$curContainer=$(".ticket-container"),$curContainer.on("click",".radio",sel)})}function sel(){var t=$(this),i=t.attr("ticket-item");$curContainer.find(".radio.selected").removeClass("selected"),t.addClass("selected"),Pop.hide(),curOptions.selected&&curOptions.selected(-1!=i?JSON.parse(i):-1,ticketList.length)}var curOptions,ticketList,$curContainer,$=require("zepto"),Pop=require("common/pop/index"),Ajax=require("common/ajax/index");module.exports={show:show}});
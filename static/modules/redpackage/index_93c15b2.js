define("redpackage/index",function(require,exports,module){function init(){addEvent(),isLogin()}function addEvent(){$("#J-award-btn").on("click",getAward)}function isLogin(){0==$(document.body).attr("is-login")&&LoginPop.show({Ajax:Ajax,manualClose:!1,loginSuc:function(){location.reload()}})}function getAward(){(new Ajax).send({url:"/Activity/LotteryRedPackage/doLottery"},function(n){alertAward(n.type,{price:n.content})})}function alertAward(n,e){var r;switch(n){case 1:r=ticketTmpl(e);break;case 2:r=redTmpl(e)}Alert.show(r,!1,"redpackage-alert")}var $=require("zepto"),Ajax=require("common/ajax/index"),LoginPop=require("common/login-pop/index"),Alert=require("common/alert/alert"),ticketTmpl=(require("common/bubble/bubble"),function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="redpackage-panel ticket-panel">\r\n	<div class="inner-content">\r\n		<p class="title">恭喜您</p>\r\n		<p class="sub-title">抽中一个代金券！</p>\r\n		<div class="item-content item-ticket">\r\n			<p class="price-wrap"><i>&yen;</i><b>'+(null==(__t=price)?"":__t)+'</b><span class="unit">优惠券</span></p>\r\n			<p class="item-des">请尽快使用哦</p>\r\n		</div>\r\n		<div class="btn-wrap">\r\n			<a href="/User/Center/myCoupon" class="btnl">去看看</a>\r\n		</div>\r\n	</div>\r\n</div>';return __p}),redTmpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="redpackage-panel">\r\n	<div class="inner-content">\r\n		<p class="title">恭喜您</p>\r\n		<p class="sub-title">抽中一个红包！</p>\r\n		<div class="item-content item-red">\r\n			<p class="price-wrap"><i>&yen;</i><b>'+(null==(__t=price)?"":__t)+'</b><span class="unit">元</span></p>\r\n			<p class="item-des">现金红包将会在3分钟内发放给您哦~<br/>(0点至8点的红包将会在8点后发放哈）</p>\r\n		</div>\r\n		<div class="btn-wrap">\r\n			<a href="/Mall/Home" class="btnl">确认</a>\r\n		</div>\r\n	</div>\r\n</div>';return __p};init()});
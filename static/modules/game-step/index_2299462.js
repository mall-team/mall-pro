define("game-step/index",function(n){function a(){s(s(".step")[0]).css("display","block"),e(),t(),i()}function e(){var n=s(".step"),a=s(".J-next");a.on("click",function(){var a=s(this),e=a.parents(".step"),t=e.attr("order"),i=s(n[t]);o(e)?e.animate({opacity:"0"},200,"ease-in",function(){e.css("display","none"),i.css("display","block").addClass("animated bounceInRight"),i.on(f,function(){i.removeClass("animated bounceInRight"),i.off(f)})}):(a.addClass("animated bounce"),a.on(f,function(){a.removeClass("animated bounce"),a.off(f)}))}),s("#J-submit").on("click",r)}function t(){var n=s(".radio");n.on("click",function(){var n=s(this),a=n.parents(".step");a.find(".radio").removeClass("active"),n.addClass("active"),a.find(".J-radio-val").val(n.attr("val"))})}function i(){var n=s("#J-member");n.on("input",function(){var a=n.val();if(""!==a){var e=a.match(/\d+/),t=e?+e[0]:1;1>t?t=1:t>1e4&&(t=1e4),n.val(t)}})}function o(n){var a=n.find(".J-radio-val"),e=n.find("#J-member"),t=n.find("#J-phone"),i=n.find("#J-nick");if(a.length>0&&""===a.val())return!1;if(e.length>0&&""===e.val())return!1;if(t.length>0){if(""===t.val())return!1;if(!/^\d{11}$/.test(t.val()))return c.show("手机号码格式错误！"),!1}return i.length>0&&""===i.val()?!1:!0}function r(){var n=s(this),a=s("form");return o(n.parents(".step"))?((new d).send({url:a.attr("action"),data:a.serialize(),type:a.attr("method")},function(){}),!1):(n.addClass("animated bounce"),n.on(f,function(){n.removeClass("animated bounce"),n.off(f)}),!1)}var s=n("zepto"),c=n("common/bubble/bubble"),d=n("common/ajax/index"),l=n("common/util/index"),f=l.getAniEndName().aniEvtName;a()});